(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{360:function(t,s,a){t.exports=a.p+"assets/img/udpheader.740fa2a7.jpg"},361:function(t,s,a){t.exports=a.p+"assets/img/tcpstatetransform.5335fd9d.jpg"},362:function(t,s,a){t.exports=a.p+"assets/img/tcpheader.719c8aba.jpg"},363:function(t,s,a){t.exports=a.p+"assets/img/tcphandshake.c9d5bcf7.jpg"},364:function(t,s,a){t.exports=a.p+"assets/img/tcphandwave.bc8c7ee2.jpg"},365:function(t,s,a){t.exports=a.p+"assets/img/fastretransimission.cf7226c4.jpg"},366:function(t,s,a){t.exports=a.p+"assets/img/swnd.1265dd38.jpg"},367:function(t,s,a){t.exports=a.p+"assets/img/rwnd.45339d1f.jpg"},368:function(t,s,a){t.exports=a.p+"assets/img/congestioncontrol.4e5086ea.jpg"},420:function(t,s,a){"use strict";a.r(s);var m=a(26),c=Object(m.a)({},(function(){var t=this,s=t.$createElement,m=t._self._c||s;return m("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[m("h1",{attrs:{id:"传输层"}},[m("a",{staticClass:"header-anchor",attrs:{href:"#传输层"}},[t._v("#")]),t._v(" 传输层")]),t._v(" "),m("h2",{attrs:{id:"udp"}},[m("a",{staticClass:"header-anchor",attrs:{href:"#udp"}},[t._v("#")]),t._v(" UDP")]),t._v(" "),m("h3",{attrs:{id:"udp头部"}},[m("a",{staticClass:"header-anchor",attrs:{href:"#udp头部"}},[t._v("#")]),t._v(" UDP头部")]),t._v(" "),m("p",[m("img",{attrs:{src:a(360),alt:"udp header"}})]),t._v(" "),m("h2",{attrs:{id:"tcp"}},[m("a",{staticClass:"header-anchor",attrs:{href:"#tcp"}},[t._v("#")]),t._v(" TCP")]),t._v(" "),m("h3",{attrs:{id:"tcp状态转换"}},[m("a",{staticClass:"header-anchor",attrs:{href:"#tcp状态转换"}},[t._v("#")]),t._v(" TCP状态转换")]),t._v(" "),m("p",[m("img",{attrs:{src:a(361),alt:"tcp state transition"}})]),t._v(" "),m("h3",{attrs:{id:"tcp头部"}},[m("a",{staticClass:"header-anchor",attrs:{href:"#tcp头部"}},[t._v("#")]),t._v(" TCP头部")]),t._v(" "),m("p",[m("img",{attrs:{src:a(362),alt:"tcp header"}})]),t._v(" "),m("h3",{attrs:{id:"tcp三次握手"}},[m("a",{staticClass:"header-anchor",attrs:{href:"#tcp三次握手"}},[t._v("#")]),t._v(" TCP三次握手")]),t._v(" "),m("p",[m("img",{attrs:{src:a(363),alt:"tcp 3 handshake"}})]),t._v(" "),m("ol",[m("li",[t._v("ISN(Initial Sequence Number)需要随机选取")]),t._v(" "),m("li",[t._v("三次握手为了保护服务端，\n如果仅两次连接，可能出现client发送完syn后由于网络问题很久后收到server的ack和syn，此时client认为报文失效，而server认为已经完成握手，造成server空等待")])]),t._v(" "),m("h3",{attrs:{id:"tcp四次挥手"}},[m("a",{staticClass:"header-anchor",attrs:{href:"#tcp四次挥手"}},[t._v("#")]),t._v(" TCP四次挥手")]),t._v(" "),m("p",[m("img",{attrs:{src:a(364),alt:"tcp 4 handwave"}})]),t._v(" "),m("ol",[m("li",[t._v("四次挥手，因为被动关闭方将，对主动关闭的确认和关闭连接操作两次进行")]),t._v(" "),m("li",[t._v("主动关闭方在返回被动关闭方FIN的ACK后，有一个2MSL(Max Segment Lifetime)的time wait\n"),m("ol",[m("li",[t._v("为了给被动方的FIN返回ACK，防止第一次返回的ACK丢失（此时server重传FIN）")]),t._v(" "),m("li",[t._v("可能存在已失效的连接请求报文段，防止这种报文段出现在本次连接之外（如新连接和旧连接端口相同，这时收到旧连接的packet会认为合法），防止串话")])])])]),t._v(" "),m("h3",{attrs:{id:"tcp可靠性"}},[m("a",{staticClass:"header-anchor",attrs:{href:"#tcp可靠性"}},[t._v("#")]),t._v(" TCP可靠性")]),t._v(" "),m("h4",{attrs:{id:"time-based-重传"}},[m("a",{staticClass:"header-anchor",attrs:{href:"#time-based-重传"}},[t._v("#")]),t._v(" time based 重传")]),t._v(" "),m("ol",[m("li",[t._v("每个TCP连接RTO(Retransmission Timeout)根据对应RTT(Round Trip Time)设置")]),t._v(" "),m("li",[t._v("每个TCP设置计时器，超出TRO后重传")]),t._v(" "),m("li",[t._v("Classic Method\n"),m("ol",[m("li",[m("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[m("mjx-math",{staticClass:" MJX-TEX"},[m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"S"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"R"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"T"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"T"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"2190"}})],1),m("mjx-mi",{staticClass:"mjx-i",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"3B1"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:"("}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"S"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"R"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"T"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"T"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:")"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"3"}},[m("mjx-c",{attrs:{c:"+"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"3"}},[m("mjx-c",{attrs:{c:"("}})],1),m("mjx-mn",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:"1"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"3"}},[m("mjx-c",{attrs:{c:"2212"}})],1),m("mjx-mi",{staticClass:"mjx-i",attrs:{space:"3"}},[m("mjx-c",{attrs:{c:"3B1"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:")"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"R"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"T"}})],1),m("mjx-msub",[m("mjx-mi",{staticClass:"mjx-i",attrs:{noIC:"true"}},[m("mjx-c",{attrs:{c:"T"}})],1),m("mjx-script",{staticStyle:{"vertical-align":"-0.15em"}},[m("mjx-TeXAtom",{attrs:{size:"s"}},[m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"s"}})],1)],1)],1)],1),m("mjx-mstyle",[m("mjx-mspace",{staticStyle:{width:"2em"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"3B1"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"2208"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"["}})],1),m("mjx-mn",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:"0"}}),m("mjx-c",{attrs:{c:"."}}),m("mjx-c",{attrs:{c:"8"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:","}})],1),m("mjx-mn",{staticClass:"mjx-n",attrs:{space:"2"}},[m("mjx-c",{attrs:{c:"0"}}),m("mjx-c",{attrs:{c:"."}}),m("mjx-c",{attrs:{c:"9"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:"]"}})],1)],1)],1)],1),t._v(" "),m("li",[m("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[m("mjx-math",{staticClass:" MJX-TEX"},[m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"R"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"T"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"O"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"="}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"m"}}),m("mjx-c",{attrs:{c:"i"}}),m("mjx-c",{attrs:{c:"n"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:"("}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"u"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"b"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"o"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"u"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"n"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"d"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:","}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"2"}},[m("mjx-c",{attrs:{c:"m"}}),m("mjx-c",{attrs:{c:"a"}}),m("mjx-c",{attrs:{c:"x"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:"("}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"l"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"b"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"o"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"u"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"n"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"d"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:","}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"2"}},[m("mjx-c",{attrs:{c:"("}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"S"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"R"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"T"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"T"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:")"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"3B2"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:")"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:")"}})],1),m("mjx-mstyle",[m("mjx-mspace",{staticStyle:{width:"2em"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"3B2"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"2208"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"["}})],1),m("mjx-mn",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:"1"}}),m("mjx-c",{attrs:{c:"."}}),m("mjx-c",{attrs:{c:"3"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:","}})],1),m("mjx-mn",{staticClass:"mjx-n",attrs:{space:"2"}},[m("mjx-c",{attrs:{c:"2"}}),m("mjx-c",{attrs:{c:"."}}),m("mjx-c",{attrs:{c:"0"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:"]"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:","}})],1),m("mjx-mi",{staticClass:"mjx-i",attrs:{space:"2"}},[m("mjx-c",{attrs:{c:"u"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"b"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"o"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"u"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"n"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"d"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"="}})],1),m("mjx-mn",{staticClass:"mjx-n",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"1"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"m"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"i"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"n"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:","}})],1),m("mjx-mi",{staticClass:"mjx-i",attrs:{space:"2"}},[m("mjx-c",{attrs:{c:"l"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"b"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"o"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"u"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"n"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"d"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"="}})],1),m("mjx-mn",{staticClass:"mjx-n",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"1"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"s"}})],1)],1)],1)],1)])]),t._v(" "),m("li",[t._v("Standard Method\n"),m("ol",[m("li",[t._v("考虑网络波动")]),t._v(" "),m("li",[m("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[m("mjx-math",{staticClass:" MJX-TEX"},[m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"s"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"r"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"t"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"t"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"2190"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"("}})],1),m("mjx-mn",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:"1"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"3"}},[m("mjx-c",{attrs:{c:"2212"}})],1),m("mjx-mi",{staticClass:"mjx-i",attrs:{space:"3"}},[m("mjx-c",{attrs:{c:"g"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:")"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:"("}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"s"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"r"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"t"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"t"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:")"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"3"}},[m("mjx-c",{attrs:{c:"+"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"3"}},[m("mjx-c",{attrs:{c:"("}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"g"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:")"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"M"}})],1),m("mjx-mstyle",[m("mjx-mspace",{staticStyle:{width:"2em"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"M"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"="}})],1),m("mjx-mtext",{staticClass:"mjx-n",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"m"}}),m("mjx-c",{attrs:{c:"e"}}),m("mjx-c",{attrs:{c:"a"}}),m("mjx-c",{attrs:{c:"n"}}),m("mjx-c",{attrs:{c:" "}}),m("mjx-c",{attrs:{c:"d"}}),m("mjx-c",{attrs:{c:"e"}}),m("mjx-c",{attrs:{c:"v"}}),m("mjx-c",{attrs:{c:"i"}}),m("mjx-c",{attrs:{c:"a"}}),m("mjx-c",{attrs:{c:"t"}}),m("mjx-c",{attrs:{c:"i"}}),m("mjx-c",{attrs:{c:"o"}}),m("mjx-c",{attrs:{c:"n"}})],1)],1)],1)],1),t._v(" "),m("li",[m("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[m("mjx-math",{staticClass:" MJX-TEX"},[m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"r"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"t"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"t"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"v"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"a"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"r"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"2190"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"("}})],1),m("mjx-mn",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:"1"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"3"}},[m("mjx-c",{attrs:{c:"2212"}})],1),m("mjx-mi",{staticClass:"mjx-i",attrs:{space:"3"}},[m("mjx-c",{attrs:{c:"h"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:")"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:"("}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"r"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"t"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"t"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"v"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"a"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"r"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:")"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"3"}},[m("mjx-c",{attrs:{c:"+"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"3"}},[m("mjx-c",{attrs:{c:"("}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"h"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:")"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:"("}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:"|"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"M"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"3"}},[m("mjx-c",{attrs:{c:"2212"}})],1),m("mjx-mi",{staticClass:"mjx-i",attrs:{space:"3"}},[m("mjx-c",{attrs:{c:"s"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"r"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"t"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"t"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:"|"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:")"}})],1)],1)],1)],1),t._v(" "),m("li",[m("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[m("mjx-math",{staticClass:" MJX-TEX"},[m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"R"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"T"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"O"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"="}})],1),m("mjx-mi",{staticClass:"mjx-i",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"s"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"r"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"t"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"t"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"3"}},[m("mjx-c",{attrs:{c:"+"}})],1),m("mjx-mn",{staticClass:"mjx-n",attrs:{space:"3"}},[m("mjx-c",{attrs:{c:"4"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:"("}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"r"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"t"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"t"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"v"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"a"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"r"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:")"}})],1)],1)],1)],1)])])]),t._v(" "),m("h4",{attrs:{id:"快重传"}},[m("a",{staticClass:"header-anchor",attrs:{href:"#快重传"}},[t._v("#")]),t._v(" 快重传")]),t._v(" "),m("p",[m("img",{attrs:{src:a(365),alt:"fast retransmission"}})]),t._v(" "),m("ol",[m("li",[t._v("TCP reveiver在收到乱序的segment时会立即生成ACK")]),t._v(" "),m("li",[t._v("TCP sender在收到重复ACK时，需确定是丢包还是延迟，当重复ACK超过duplicate ACK threshold时判断丢包，进行重传")]),t._v(" "),m("li",[t._v("快重传不需等待RTO")])]),t._v(" "),m("h3",{attrs:{id:"tcp流量控制"}},[m("a",{staticClass:"header-anchor",attrs:{href:"#tcp流量控制"}},[t._v("#")]),t._v(" TCP流量控制")]),t._v(" "),m("h4",{attrs:{id:"延迟ack"}},[m("a",{staticClass:"header-anchor",attrs:{href:"#延迟ack"}},[t._v("#")]),t._v(" 延迟ACK")]),t._v(" "),m("ol",[m("li",[t._v("在收到packet要发送ACK时，延时等待一会，将ACK放入可能出现的要send to对端的packet中")])]),t._v(" "),m("h4",{attrs:{id:"nagle算法"}},[m("a",{staticClass:"header-anchor",attrs:{href:"#nagle算法"}},[t._v("#")]),t._v(" Nagle算法")]),t._v(" "),m("ol",[m("li",[t._v("当TCP发出的packet未收到ACK时，禁止发送small segment("),m("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[m("mjx-math",{staticClass:" MJX-TEX"},[m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:"<"}})],1),m("mjx-mi",{staticClass:"mjx-i",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"S"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"M"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"S"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"S"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:"("}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"S"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"e"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"n"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"d"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"e"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"r"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"M"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"a"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"x"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"i"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"m"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"u"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"m"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"S"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"e"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"g"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"m"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"e"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"n"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"t"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"S"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"i"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"z"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"e"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:")"}})],1)],1)],1),t._v(")")],1),t._v(" "),m("li",[t._v("相当于一个self-clocking，ACK返回的越快，可以越快send data")]),t._v(" "),m("li",[t._v("nagle相当于一个trade-off，使用少量大packet（增加载荷），但相对增大了delay")])]),t._v(" "),m("h4",{attrs:{id:"滑动窗口"}},[m("a",{staticClass:"header-anchor",attrs:{href:"#滑动窗口"}},[t._v("#")]),t._v(" 滑动窗口")]),t._v(" "),m("p",[m("img",{attrs:{src:a(366),alt:"send window"}}),t._v(" "),m("img",{attrs:{src:a(367),alt:"send window"}})]),t._v(" "),m("ol",[m("li",[t._v("TCP header的windows size filed 标识empty receive buffer space(Bytes)")]),t._v(" "),m("li",[t._v("最大"),m("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[m("mjx-math",{staticClass:" MJX-TEX"},[m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"S"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"E"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"Q"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"="}})],1),m("mjx-mi",{staticClass:"mjx-i",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"A"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"C"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"K"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"3"}},[m("mjx-c",{attrs:{c:"+"}})],1),m("mjx-mtext",{staticClass:"mjx-n",attrs:{space:"3"}},[m("mjx-c",{attrs:{c:"W"}}),m("mjx-c",{attrs:{c:"i"}}),m("mjx-c",{attrs:{c:"n"}}),m("mjx-c",{attrs:{c:"d"}}),m("mjx-c",{attrs:{c:"o"}}),m("mjx-c",{attrs:{c:"w"}}),m("mjx-c",{attrs:{c:" "}}),m("mjx-c",{attrs:{c:"S"}}),m("mjx-c",{attrs:{c:"i"}}),m("mjx-c",{attrs:{c:"z"}}),m("mjx-c",{attrs:{c:"e"}})],1)],1)],1)],1),t._v(" "),m("li",[t._v("sender会定时发送window probes去询问reveiver是否有空余，强制recevier返回ACK和Winodw Size")]),t._v(" "),m("li",[t._v("SWS(Silly Window Syndrome) 发生时，只有小的数据报被传输而非full-size，避免方法如下\n"),m("ol",[m("li",[t._v("receiver不advertise small window")]),t._v(" "),m("li",[t._v("sender根据nagle算法，不发送small segment")])])])]),t._v(" "),m("h3",{attrs:{id:"tcp拥塞控制"}},[m("a",{staticClass:"header-anchor",attrs:{href:"#tcp拥塞控制"}},[t._v("#")]),t._v(" TCP拥塞控制")]),t._v(" "),m("p",[m("img",{attrs:{src:a(368),alt:"congestion control"}})]),t._v(" "),m("h4",{attrs:{id:"慢启动"}},[m("a",{staticClass:"header-anchor",attrs:{href:"#慢启动"}},[t._v("#")]),t._v(" 慢启动")]),t._v(" "),m("ol",[m("li",[t._v("当TCP建立或丢包产生时，进行慢启动")]),t._v(" "),m("li",[t._v("慢启动即在SYN交换后，cwnd(Congestion Winodow)=IW(Initial Winodw)，通常=SMSS\n随后如果没有loss packet，"),m("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[m("mjx-math",{staticClass:" MJX-TEX"},[m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"W"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"="}})],1),m("mjx-mn",{staticClass:"mjx-n",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"2"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"3"}},[m("mjx-c",{attrs:{c:"D7"}})],1),m("mjx-msub",{attrs:{space:"3"}},[m("mjx-mi",{staticClass:"mjx-i",attrs:{noIC:"true"}},[m("mjx-c",{attrs:{c:"W"}})],1),m("mjx-script",{staticStyle:{"vertical-align":"-0.15em"}},[m("mjx-TeXAtom",{attrs:{size:"s"}},[m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"p"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"r"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"e"}})],1)],1)],1)],1)],1)],1)],1),t._v(" "),m("li",[t._v("delay ACK会降低增加速度，所以通常在slow start后才使用")]),t._v(" "),m("li",[t._v("一般TCP发送速率为"),m("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[m("mjx-math",{staticClass:" MJX-TEX"},[m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"W"}})],1),m("mjx-TeXAtom",[m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:"/"}})],1)],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"R"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"T"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"T"}})],1)],1)],1),t._v("，当W过大时，cwnd会减少到之前的一半，这个转换点为ssthresh(slow start threshold)")],1)]),t._v(" "),m("h4",{attrs:{id:"拥塞避免（加法增大）"}},[m("a",{staticClass:"header-anchor",attrs:{href:"#拥塞避免（加法增大）"}},[t._v("#")]),t._v(" 拥塞避免（加法增大）")]),t._v(" "),m("ol",[m("li",[t._v("当经过ssthresh后，"),m("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[m("mjx-math",{staticClass:" MJX-TEX"},[m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"c"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"w"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"n"}})],1),m("mjx-msub",[m("mjx-mi",{staticClass:"mjx-i",attrs:{noIC:"true"}},[m("mjx-c",{attrs:{c:"d"}})],1),m("mjx-script",{staticStyle:{"vertical-align":"-0.15em"}},[m("mjx-TeXAtom",{attrs:{size:"s"}},[m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"t"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:"+"}})],1),m("mjx-mn",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:"1"}})],1)],1)],1)],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"="}})],1),m("mjx-mi",{staticClass:"mjx-i",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"c"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"w"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"n"}})],1),m("mjx-msub",[m("mjx-mi",{staticClass:"mjx-i",attrs:{noIC:"true"}},[m("mjx-c",{attrs:{c:"d"}})],1),m("mjx-script",{staticStyle:{"vertical-align":"-0.15em"}},[m("mjx-TeXAtom",{attrs:{size:"s"}},[m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"t"}})],1)],1)],1)],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"3"}},[m("mjx-c",{attrs:{c:"+"}})],1),m("mjx-mi",{staticClass:"mjx-i",attrs:{space:"3"}},[m("mjx-c",{attrs:{c:"S"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"M"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"S"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"S"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"3"}},[m("mjx-c",{attrs:{c:"2217"}})],1),m("mjx-mi",{staticClass:"mjx-i",attrs:{space:"3"}},[m("mjx-c",{attrs:{c:"S"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"M"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"S"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"S"}})],1),m("mjx-TeXAtom",[m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:"/"}})],1)],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"c"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"w"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"n"}})],1),m("mjx-msub",[m("mjx-mi",{staticClass:"mjx-i",attrs:{noIC:"true"}},[m("mjx-c",{attrs:{c:"d"}})],1),m("mjx-script",{staticStyle:{"vertical-align":"-0.15em"}},[m("mjx-TeXAtom",{attrs:{size:"s"}},[m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"t"}})],1)],1)],1)],1)],1)],1),t._v("，cwnd每次只+about 1")],1)]),t._v(" "),m("h4",{attrs:{id:"乘法减小"}},[m("a",{staticClass:"header-anchor",attrs:{href:"#乘法减小"}},[t._v("#")]),t._v(" 乘法减小")]),t._v(" "),m("ol",[m("li",[t._v("当收到重复ACK进行快重传后，设置"),m("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[m("mjx-math",{staticClass:" MJX-TEX"},[m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"s"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"s"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"t"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"h"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"r"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"e"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"s"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"h"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"="}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"m"}}),m("mjx-c",{attrs:{c:"a"}}),m("mjx-c",{attrs:{c:"x"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:"("}})],1),m("mjx-mtext",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:"f"}}),m("mjx-c",{attrs:{c:"l"}}),m("mjx-c",{attrs:{c:"i"}}),m("mjx-c",{attrs:{c:"g"}}),m("mjx-c",{attrs:{c:"h"}}),m("mjx-c",{attrs:{c:"t"}}),m("mjx-c",{attrs:{c:" "}}),m("mjx-c",{attrs:{c:"s"}}),m("mjx-c",{attrs:{c:"i"}}),m("mjx-c",{attrs:{c:"z"}}),m("mjx-c",{attrs:{c:"e"}})],1),m("mjx-TeXAtom",[m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:"/"}})],1)],1),m("mjx-mn",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:"2"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:","}})],1),m("mjx-mn",{staticClass:"mjx-n",attrs:{space:"2"}},[m("mjx-c",{attrs:{c:"2"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"3"}},[m("mjx-c",{attrs:{c:"2217"}})],1),m("mjx-mi",{staticClass:"mjx-i",attrs:{space:"3"}},[m("mjx-c",{attrs:{c:"S"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"M"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"S"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"S"}})],1),m("mjx-mo",{staticClass:"mjx-n"},[m("mjx-c",{attrs:{c:")"}})],1)],1)],1)],1)]),t._v(" "),m("h4",{attrs:{id:"快恢复"}},[m("a",{staticClass:"header-anchor",attrs:{href:"#快恢复"}},[t._v("#")]),t._v(" 快恢复")]),t._v(" "),m("ol",[m("li",[t._v("快恢复在TCP reno版本引入，旧版theno无")]),t._v(" "),m("li",[t._v("进行乘法减小后，并不从"),m("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[m("mjx-math",{staticClass:" MJX-TEX"},[m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"c"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"w"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"n"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"d"}})],1),m("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"="}})],1),m("mjx-mn",{staticClass:"mjx-n",attrs:{space:"4"}},[m("mjx-c",{attrs:{c:"1"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"M"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"S"}})],1),m("mjx-mi",{staticClass:"mjx-i"},[m("mjx-c",{attrs:{c:"S"}})],1)],1)],1),t._v("开始慢启动，而是从新的ssthresh，开始加法增大")],1)]),t._v(" "),m("h3",{attrs:{id:"tcp粘包"}},[m("a",{staticClass:"header-anchor",attrs:{href:"#tcp粘包"}},[t._v("#")]),t._v(" TCP粘包")]),t._v(" "),m("ol",[m("li",[t._v("TCP是流协议，可能存在接收端一次读取两段或多段数据，无法区分")]),t._v(" "),m("li",[t._v("原因\n"),m("ol",[m("li",[t._v("Nagle算法，TCP并不立刻发送此段数据，而是等待一小段时间，看看在等待期间是否还有要发送的数据，若有则会一次把多段数据发送出去")]),t._v(" "),m("li",[t._v("接收端接收不及时造成的接收端粘包。TCP会把接收到的数据 存在自己的缓冲区中，然后通知应用层取数据。当应用层由于某些原因 不能及时取出TCP的数据，就会造成TCP缓冲区中存放了多段数据")])])]),t._v(" "),m("li",[t._v("解决\n"),m("ol",[m("li",[t._v("封包，给一段数据加上包头--一个固定大小的结构体，有一个成员变量表示包体长度")])])])])])}),[],!1,null,null,null);s.default=c.exports}}]);